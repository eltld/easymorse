<div class='pinchComponent'>
	<div id='p3Image' class='pinchImage'></div>
</div>
<script>
$('#p3Image').css('background','url("images/p3a.jpg")');

$('#p3Image').on('touchstart touchmove touchend',function(e) {
	e.preventDefault();
	
	var obj=$('#p3Image')[0];
	
	if(e.type=='touchstart'){
		obj.gesture=e.originalEvent.touches.length>1;
		obj.touchStart=true;
		console.log('touch start: '+obj.gesture);
	}
	
	if(e.type=='touchmove'){
		console.log('touch move: '+obj.gesture);
		if(obj.gesture || !obj.touchStart){
			e.stopPropagation();
			console.log('touch stop propagation. ');
		}
	}
	
	if(e.type=='touchend'){
		obj.gesture=false;
		obj.touchStart=false;
		console.log('touch end: '+obj.gesture);
	}
	
});

$('#p3Image').on('gesturestart gesturechange gestureend',function(e){
	e.preventDefault();
	e.stopPropagation();
	
	if(e.type=='gesturestart'){
		console.log('gesture start ');
	}
	
	if(e.type=='gesturechange'){
		console.log('gesture change rotation:'+e.originalEvent.rotation);
		$('#p3Image').parent().css('-webkit-transform','scale('+e.originalEvent.scale*0.4+') '+
				'rotate('+e.originalEvent.rotation+'deg)');
	}
	
	if(e.type=='gestureend'){
		console.log('gesture end');
	}
});
</script>